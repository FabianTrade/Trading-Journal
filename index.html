<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Journal - Professionelle Trade-Dokumentation</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icon Components (simplified)
        const PlusCircle = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" strokeWidth="2"/>
                <path d="M12 8v8M8 12h8" strokeWidth="2" strokeLinecap="round"/>
            </svg>
        );

        const TrendingUp = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M13 7l5 5m0 0l-5 5m5-5H6" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const TrendingDown = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M13 17l5-5m0 0l-5-5m5 5H6" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const BarChart3 = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M3 3v18h18M8 17V9m4 8V5m4 12v-4" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const Calendar = () => (
            <svg className="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <rect x="3" y="4" width="18" height="18" rx="2" strokeWidth="2"/>
                <path d="M16 2v4M8 2v4M3 10h18" strokeWidth="2" strokeLinecap="round"/>
            </svg>
        );

        const AlertCircle = () => (
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10" strokeWidth="2"/>
                <path d="M12 8v4m0 4h.01" strokeWidth="2" strokeLinecap="round"/>
            </svg>
        );

        const CheckCircle = () => (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const Edit2 = () => (
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const Trash2 = () => (
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const Filter = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        const Download = () => (
            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m14-7l-5 5m0 0l-5-5m5 5V3" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
        );

        // Main Trading Journal Component
        const TradingJournal = () => {
            const [trades, setTrades] = useState([]);
            const [showForm, setShowForm] = useState(false);
            const [editingTrade, setEditingTrade] = useState(null);
            const [filter, setFilter] = useState('all');
            const [formData, setFormData] = useState({
                entryDate: '',
                entryTime: '',
                exitDate: '',
                exitTime: '',
                direction: 'long',
                instrument: '',
                entryPrice: '',
                exitPrice: '',
                positionSize: '',
                stopLoss: '',
                takeProfit: '',
                setup: '',
                result: '',
                resultPercent: '',
                rMultiple: '',
                notes: '',
                deviatedFromPlan: false
            });

            // Load trades from localStorage
            useEffect(() => {
                const stored = localStorage.getItem('trading-journal-trades');
                if (stored) {
                    try {
                        setTrades(JSON.parse(stored));
                    } catch (e) {
                        console.error('Error loading trades:', e);
                    }
                }
            }, []);

            // Save trades to localStorage
            const saveTrades = (newTrades) => {
                localStorage.setItem('trading-journal-trades', JSON.stringify(newTrades));
                setTrades(newTrades);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                
                const newTrade = {
                    ...formData,
                    id: editingTrade?.id || Date.now(),
                    timestamp: new Date().toISOString()
                };

                let updatedTrades;
                if (editingTrade) {
                    updatedTrades = trades.map(t => t.id === editingTrade.id ? newTrade : t);
                } else {
                    updatedTrades = [newTrade, ...trades];
                }

                saveTrades(updatedTrades);
                resetForm();
            };

            const resetForm = () => {
                setFormData({
                    entryDate: '', entryTime: '', exitDate: '', exitTime: '',
                    direction: 'long', instrument: '', entryPrice: '', exitPrice: '',
                    positionSize: '', stopLoss: '', takeProfit: '', setup: '',
                    result: '', resultPercent: '', rMultiple: '', notes: '', deviatedFromPlan: false
                });
                setShowForm(false);
                setEditingTrade(null);
            };

            const deleteTrade = (id) => {
                if (confirm('Trade wirklich l√∂schen?')) {
                    const updatedTrades = trades.filter(t => t.id !== id);
                    saveTrades(updatedTrades);
                }
            };

            const editTrade = (trade) => {
                setFormData(trade);
                setEditingTrade(trade);
                setShowForm(true);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            const exportData = () => {
                const dataStr = JSON.stringify(trades, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `trading-journal-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
            };

            // Calculate statistics
            const stats = () => {
                const filtered = trades.filter(t => {
                    if (filter === 'all') return true;
                    if (filter === 'long') return t.direction === 'long';
                    if (filter === 'short') return t.direction === 'short';
                    if (filter === 'winners') return parseFloat(t.result || 0) > 0;
                    if (filter === 'losers') return parseFloat(t.result || 0) < 0;
                    if (filter === 'deviated') return t.deviatedFromPlan;
                    return true;
                });

                if (filtered.length === 0) return null;

                const winners = filtered.filter(t => parseFloat(t.result || 0) > 0);
                const losers = filtered.filter(t => parseFloat(t.result || 0) < 0);
                
                const winRate = (winners.length / filtered.length * 100).toFixed(1);
                const totalPnL = filtered.reduce((sum, t) => sum + parseFloat(t.result || 0), 0);
                const avgWin = winners.length > 0 ? winners.reduce((sum, t) => sum + parseFloat(t.result || 0), 0) / winners.length : 0;
                const avgLoss = losers.length > 0 ? Math.abs(losers.reduce((sum, t) => sum + parseFloat(t.result || 0), 0) / losers.length) : 0;
                const profitFactor = avgLoss > 0 ? (avgWin * winners.length) / (avgLoss * losers.length) : 0;
                
                const runningPnL = [];
                let cumulative = 0;
                filtered.slice().reverse().forEach(t => {
                    cumulative += parseFloat(t.result || 0);
                    runningPnL.push(cumulative);
                });
                const maxDrawdown = Math.min(...runningPnL.map((val, i) => {
                    const peak = Math.max(...runningPnL.slice(0, i + 1));
                    return val - peak;
                }));

                return { filtered, winners, losers, winRate, totalPnL, avgWin, avgLoss, profitFactor, maxDrawdown };
            };

            const statistics = stats();

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 md:p-8">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <div className="mb-8 fade-in">
                            <h1 className="text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent">
                                Trading Journal
                            </h1>
                            <p className="text-gray-400">Systematische Dokumentation und Analyse deiner Trades</p>
                        </div>

                        {/* Statistics Dashboard */}
                        {statistics && (
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8 fade-in">
                                <div className="bg-slate-800/50 backdrop-blur border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-gray-400 text-sm">Gewinnquote</span>
                                        <BarChart3 />
                                    </div>
                                    <div className="text-2xl font-bold text-blue-400">{statistics.winRate}%</div>
                                    <div className="text-xs text-gray-500">{statistics.winners.length}W / {statistics.losers.length}L</div>
                                </div>

                                <div className="bg-slate-800/50 backdrop-blur border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-gray-400 text-sm">Gesamt P&L</span>
                                        {statistics.totalPnL >= 0 ? <TrendingUp /> : <TrendingDown />}
                                    </div>
                                    <div className={`text-2xl font-bold ${statistics.totalPnL >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>
                                        {statistics.totalPnL >= 0 ? '+' : ''}{statistics.totalPnL.toFixed(2)}‚Ç¨
                                    </div>
                                    <div className="text-xs text-gray-500">{statistics.filtered.length} Trades</div>
                                </div>

                                <div className="bg-slate-800/50 backdrop-blur border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-gray-400 text-sm">Profit Factor</span>
                                        <BarChart3 />
                                    </div>
                                    <div className="text-2xl font-bold text-purple-400">{statistics.profitFactor.toFixed(2)}</div>
                                    <div className="text-xs text-gray-500">√ò Win: {statistics.avgWin.toFixed(2)}‚Ç¨ | √ò Loss: {statistics.avgLoss.toFixed(2)}‚Ç¨</div>
                                </div>

                                <div className="bg-slate-800/50 backdrop-blur border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-gray-400 text-sm">Max Drawdown</span>
                                        <TrendingDown />
                                    </div>
                                    <div className="text-2xl font-bold text-orange-400">{statistics.maxDrawdown.toFixed(2)}‚Ç¨</div>
                                    <div className="text-xs text-gray-500">Gr√∂√üter R√ºckgang</div>
                                </div>
                            </div>
                        )}

                        {/* Filter and Action Buttons */}
                        <div className="flex flex-wrap gap-3 mb-6 fade-in">
                            <button onClick={() => setShowForm(!showForm)} className="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-semibold transition">
                                <PlusCircle />
                                Neuer Trade
                            </button>
                            
                            {trades.length > 0 && (
                                <button onClick={exportData} className="flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-lg font-semibold transition">
                                    <Download />
                                    Exportieren
                                </button>
                            )}
                            
                            <div className="flex gap-2 flex-wrap">
                                {['all', 'long', 'short', 'winners', 'losers', 'deviated'].map(f => (
                                    <button
                                        key={f}
                                        onClick={() => setFilter(f)}
                                        className={`px-3 py-2 rounded-lg text-sm transition ${
                                            filter === f ? 'bg-slate-700 text-white' : 'bg-slate-800/50 text-gray-400 hover:bg-slate-700/50'
                                        }`}
                                    >
                                        {f === 'all' ? 'Alle' : f === 'long' ? 'Long' : f === 'short' ? 'Short' : 
                                         f === 'winners' ? 'Gewinner' : f === 'losers' ? 'Verlierer' : 'Abweichungen'}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Form */}
                        {showForm && (
                            <div className="bg-slate-800/50 backdrop-blur border border-slate-700 rounded-lg p-6 mb-8 fade-in">
                                <h2 className="text-xl font-bold mb-4">{editingTrade ? 'Trade bearbeiten' : 'Neuer Trade'}</h2>
                                <form onSubmit={handleSubmit} className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Einstieg Datum</label>
                                        <input type="date" required value={formData.entryDate} onChange={e => setFormData({...formData, entryDate: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Einstieg Zeit</label>
                                        <input type="time" required value={formData.entryTime} onChange={e => setFormData({...formData, entryTime: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Ausstieg Datum</label>
                                        <input type="date" value={formData.exitDate} onChange={e => setFormData({...formData, exitDate: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Ausstieg Zeit</label>
                                        <input type="time" value={formData.exitTime} onChange={e => setFormData({...formData, exitTime: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Richtung</label>
                                        <select value={formData.direction} onChange={e => setFormData({...formData, direction: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white">
                                            <option value="long">Long</option>
                                            <option value="short">Short</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Instrument</label>
                                        <input type="text" required placeholder="z.B. EUR/USD, AAPL, DAX" value={formData.instrument} onChange={e => setFormData({...formData, instrument: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Einstiegspreis</label>
                                        <input type="number" step="0.00001" required value={formData.entryPrice} onChange={e => setFormData({...formData, entryPrice: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Ausstiegspreis</label>
                                        <input type="number" step="0.00001" value={formData.exitPrice} onChange={e => setFormData({...formData, exitPrice: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Positionsgr√∂√üe</label>
                                        <input type="number" step="0.01" required placeholder="St√ºck/Lots/Kontrakte" value={formData.positionSize} onChange={e => setFormData({...formData, positionSize: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Stop Loss</label>
                                        <input type="number" step="0.00001" placeholder="Stop-Level" value={formData.stopLoss} onChange={e => setFormData({...formData, stopLoss: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Take Profit</label>
                                        <input type="number" step="0.00001" placeholder="Ziel-Level" value={formData.takeProfit} onChange={e => setFormData({...formData, takeProfit: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Ergebnis (‚Ç¨)</label>
                                        <input type="number" step="0.01" placeholder="Gewinn/Verlust" value={formData.result} onChange={e => setFormData({...formData, result: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">Ergebnis (%)</label>
                                        <input type="number" step="0.01" placeholder="Prozent" value={formData.resultPercent} onChange={e => setFormData({...formData, resultPercent: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div>
                                        <label className="block text-sm text-gray-400 mb-1">R-Multiple</label>
                                        <input type="number" step="0.01" placeholder="z.B. 2.5R" value={formData.rMultiple} onChange={e => setFormData({...formData, rMultiple: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div className="md:col-span-2 lg:col-span-3">
                                        <label className="block text-sm text-gray-400 mb-1">Setup / Begr√ºndung</label>
                                        <textarea rows="3" required placeholder="Welches Setup? Warum dieser Trade?" value={formData.setup} onChange={e => setFormData({...formData, setup: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div className="md:col-span-2 lg:col-span-3">
                                        <label className="block text-sm text-gray-400 mb-1">Notizen / Beobachtungen</label>
                                        <textarea rows="3" placeholder="Was lief gut/schlecht? Emotionen? Besonderheiten?" value={formData.notes} onChange={e => setFormData({...formData, notes: e.target.value})} className="w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white" />
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <input type="checkbox" id="deviated" checked={formData.deviatedFromPlan} onChange={e => setFormData({...formData, deviatedFromPlan: e.target.checked})} className="w-4 h-4" />
                                        <label htmlFor="deviated" className="text-sm text-gray-400">Vom Plan abgewichen</label>
                                    </div>
                                    <div className="md:col-span-2 lg:col-span-3 flex gap-3">
                                        <button type="submit" className="bg-emerald-600 hover:bg-emerald-700 px-6 py-2 rounded-lg font-semibold transition">
                                            {editingTrade ? 'Aktualisieren' : 'Speichern'}
                                        </button>
                                        <button type="button" onClick={resetForm} className="bg-slate-700 hover:bg-slate-600 px-6 py-2 rounded-lg transition">
                                            Abbrechen
                                        </button>
                                    </div>
                                </form>
                            </div>
                        )}

                        {/* Trade List */}
                        <div className="space-y-4">
                            {statistics?.filtered.map(trade => (
                                <div key={trade.id} className="bg-slate-800/50 backdrop-blur border border-slate-700 rounded-lg p-5 hover:border-slate-600 transition fade-in">
                                    <div className="flex items-start justify-between mb-4 flex-wrap gap-3">
                                        <div className="flex items-center gap-3 flex-wrap">
                                            <div className={`px-3 py-1 rounded-full text-sm font-semibold ${
                                                trade.direction === 'long' ? 'bg-emerald-900/50 text-emerald-400' : 'bg-red-900/50 text-red-400'
                                            }`}>
                                                {trade.direction === 'long' ? '‚Üó LONG' : '‚Üò SHORT'}
                                            </div>
                                            <h3 className="text-xl font-bold">{trade.instrument}</h3>
                                            {trade.deviatedFromPlan && (
                                                <div className="flex items-center gap-1 text-orange-400 text-sm">
                                                    <AlertCircle />
                                                    <span>Abweichung</span>
                                                </div>
                                            )}
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <div className={`text-2xl font-bold ${parseFloat(trade.result || 0) >= 0 ? 'text-emerald-400' : 'text-red-400'}`}>
                                                {parseFloat(trade.result || 0) >= 0 ? '+' : ''}{trade.result || '0.00'}‚Ç¨
                                            </div>
                                            <button onClick={() => editTrade(trade)} className="p-2 hover:bg-slate-700 rounded transition">
                                                <Edit2 />
                                            </button>
                                            <button onClick={() => deleteTrade(trade.id)} className="p-2 hover:bg-slate-700 rounded transition">
                                                <Trash2 />
                                            </button>
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm">
                                        <div>
                                            <span className="text-gray-500">Einstieg:</span>
                                            <div className="font-semibold">{trade.entryDate} {trade.entryTime}</div>
                                            <div className="text-gray-400">{trade.entryPrice}</div>
                                        </div>
                                        <div>
                                            <span className="text-gray-500">Ausstieg:</span>
                                            <div className="font-semibold">{trade.exitDate || '-'} {trade.exitTime || ''}</div>
                                            <div className="text-gray-400">{trade.exitPrice || '-'}</div>
                                        </div>
                                        <div>
                                            <span className="text-gray-500">Position:</span>
                                            <div className="font-semibold">{trade.positionSize}</div>
                                        </div>
                                        <div>
                                            <span className="text-gray-500">Performance:</span>
                                            <div className="font-semibold">{trade.resultPercent ? `${trade.resultPercent}%` : '-'} {trade.rMultiple ? `(${trade.rMultiple}R)` : ''}</div>
                                        </div>
                                    </div>

                                    {(trade.stopLoss || trade.takeProfit) && (
                                        <div className="grid grid-cols-2 gap-4 mb-4 text-sm">
                                            {trade.stopLoss && (
                                                <div>
                                                    <span className="text-gray-500">Stop Loss:</span>
                                                    <div className="text-red-400 font-semibold">{trade.stopLoss}</div>
                                                </div>
                                            )}
                                            {trade.takeProfit && (
                                                <div>
                                                    <span className="text-gray-500">Take Profit:</span>
                                                    <div className="text-emerald-400 font-semibold">{trade.takeProfit}</div>
                                                </div>
                                            )}
                                        </div>
                                    )}

                                    <div className="mb-3">
                                        <div className="text-gray-500 text-sm mb-1">Setup / Begr√ºndung:</div>
                                        <div className="text-gray-300">{trade.setup}</div>
                                    </div>

                                    {trade.notes && (
                                        <div className="bg-slate-900/50 rounded p-3">
                                            <div className="text-gray-500 text-sm mb-1">Notizen:</div>
                                            <div className="text-gray-300 text-sm">{trade.notes}</div>
                                        </div>
                                    )}
                                </div>
                            ))}

                            {trades.length === 0 && (
                                <div className="text-center py-16 text-gray-500 fade-in">
                                    <Calendar />
                                    <p className="text-lg mt-4">Noch keine Trades dokumentiert</p>
                                    <p className="text-sm mt-2">Starte mit deinem ersten Trade-Eintrag</p>
                                </div>
                            )}
                        </div>

                        {/* Best Practices */}
                        <div className="mt-12 bg-slate-800/30 backdrop-blur border border-slate-700 rounded-lg p-6 fade-in">
                            <h2 className="text-2xl font-bold mb-6 flex items-center gap-2">
                                <CheckCircle />
                                Best Practices f√ºr dein Trading-Journal
                            </h2>

                            <div className="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h3 className="font-bold text-emerald-400 mb-3">üìù Konsequente Dokumentation</h3>
                                    <ul className="space-y-2 text-sm text-gray-300">
                                        <li>‚Ä¢ <strong>Sofort dokumentieren:</strong> Trage jeden Trade unmittelbar nach Ausf√ºhrung ein</li>
                                        <li>‚Ä¢ <strong>Vollst√§ndig ausf√ºllen:</strong> Alle Felder ehrlich bef√ºllen ‚Äì auch bei Verlusten</li>
                                        <li>‚Ä¢ <strong>Screenshots nutzen:</strong> Charts vor/nach dem Trade separat speichern</li>
                                        <li>‚Ä¢ <strong>Emotionen festhalten:</strong> Wie hast du dich gef√ºhlt? FOMO? Rache-Trade?</li>
                                    </ul>
                                </div>

                                <div>
                                    <h3 className="font-bold text-blue-400 mb-3">üìä Review-Frequenz</h3>
                                    <ul className="space-y-2 text-sm text-gray-300">
                                        <li>‚Ä¢ <strong>T√§glich:</strong> Kurze Reflexion nach Handelsschluss (5-10 Min)</li>
                                        <li>‚Ä¢ <strong>W√∂chentlich:</strong> Detaillierte Analyse aller Trades der Woche (30-60 Min)</li>
                                        <li>‚Ä¢ <strong>Monatlich:</strong> Tiefgehende Statistik-Auswertung und Strategieanpassung</li>
                                        <li>‚Ä¢ <strong>Quartalsweise:</strong> Gro√üe Review mit Zielsetzung f√ºr n√§chste Phase</li>
                                    </ul>
                                </div>

                                <div>
                                    <h3 className="font-bold text-purple-400 mb-3">üéØ Bias vermeiden</h3>
                                    <ul className="space-y-2 text-sm text-gray-300">
                                        <li>‚Ä¢ <strong>Vor dem Trade:</strong> Setup-Begr√ºndung schreiben, bevor du handelst</li>
                                        <li>‚Ä¢ <strong>Checkbox "Abweichung":</strong> Ehrlich markieren, wenn du vom Plan abweichst</li>
                                        <li>‚Ä¢ <strong>Keine Besch√∂nigung:</strong> Verluste sind Lernchancen, nicht Versagen</li>
                                        <li>‚Ä¢ <strong>Muster-Suche:</strong> Welche Fehler wiederholst du regelm√§√üig?</li>
                                    </ul>
                                </div>

                                <div>
                                    <h3 className="font-bold text-orange-400 mb-3">üîç Aktive Trade-Review</h3>
                                    <ul className="space-y-2 text-sm text-gray-300">
                                        <li>‚Ä¢ <strong>Wiederkehrende Fehler:</strong> Filtere nach Abweichungen und Verlierern</li>
                                        <li>‚Ä¢ <strong>Setup-Analyse:</strong> Welche Setups funktionieren wirklich?</li>
                                        <li>‚Ä¢ <strong>Zeitanalyse:</strong> Gibt es Tageszeiten mit schlechter Performance?</li>
                                        <li>‚Ä¢ <strong>Konkrete Anpassungen:</strong> Aus jedem Review mind. 1 Verbesserung ableiten</li>
                                    </ul>
                                </div>
                            </div>

                            <div className="mt-6 pt-6 border-t border-slate-700">
                                <h3 className="font-bold text-yellow-400 mb-3">üìà Wichtige Kennzahlen im √úberblick</h3>
                                <div className="grid md:grid-cols-3 gap-4 text-sm">
                                    <div className="bg-slate-900/50 rounded p-3">
                                        <div className="font-semibold text-gray-300">Gewinnquote (Win Rate)</div>
                                        <div className="text-gray-400 text-xs mt-1">Gewinner / Gesamt-Trades √ó 100. Ziel: &gt;50% bei gutem Risiko-Management</div>
                                    </div>
                                    <div className="bg-slate-900/50 rounded p-3">
                                        <div className="font-semibold text-gray-300">Profit Factor</div>
                                        <div className="text-gray-400 text-xs mt-1">(√ò Gewinn √ó Anzahl Gewinner) / (√ò Verlust √ó Anzahl Verlierer). Ziel: &gt;1.5</div>
                                    </div>
                                    <div className="bg-slate-900/50 rounded p-3">
                                        <div className="font-semibold text-gray-300">Risiko-Ertrags-Verh√§ltnis</div>
                                        <div className="text-gray-400 text-xs mt-1">√ò Gewinn / √ò Verlust. Ziel: mindestens 1.5:1 bis 2:1</div>
                                    </div>
                                    <div className="bg-slate-900/50 rounded p-3">
                                        <div className="font-semibold text-gray-300">Max Drawdown</div>
                                        <div className="text-gray-400 text-xs mt-1">Gr√∂√üter R√ºckgang vom H√∂chststand. Wichtig f√ºr Risikomanagement</div>
                                    </div>
                                    <div className="bg-slate-900/50 rounded p-3">
                                        <div className="font-semibold text-gray-300">R-Multiple (Durchschnitt)</div>
                                        <div className="text-gray-400 text-xs mt-1">Durchschnittliches Vielfaches deines Risikos. Positiv = profitable Strategie</div>
                                    </div>
                                    <div className="bg-slate-900/50 rounded p-3">
                                        <div className="font-semibold text-gray-300">Gesamtrendite</div>
                                        <div className="text-gray-400 text-xs mt-1">Totaler P&L im Verh√§ltnis zum Startkapital. Immer in % tracken</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="mt-8 text-center text-gray-500 text-sm">
                            <p>Alle Daten werden lokal in deinem Browser gespeichert (localStorage)</p>
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TradingJournal />);
    </script>
</body>
</html>
